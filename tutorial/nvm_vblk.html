

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Virtual Block &mdash; liblightnvm 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="liblightnvm 0.0.1 documentation" href="../index.html"/>
        <link rel="up" title="Tutorial Introduction" href="index.html"/>
        <link rel="next" title="Bad-Block-Table" href="nvm_bbt.html"/>
        <link rel="prev" title="Vectorized IO to NAND media" href="nvm_addr_vio.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> liblightnvm
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorial Introduction</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nvm_dev.html">Obtaining device information</a></li>
<li class="toctree-l2"><a class="reference internal" href="nvm_addr.html">Physical Addressing</a></li>
<li class="toctree-l2"><a class="reference internal" href="nvm_addr_vio.html">Vectorized IO to NAND media</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Virtual Block</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-physical-block-sets">Using physical block sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-physical-block-line">Using physical block line</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nvm_bbt.html">Bad-Block-Table</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../capi/index.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command-Line Interface</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">liblightnvm</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Tutorial Introduction</a> &raquo;</li>
      
    <li>Virtual Block</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorial/nvm_vblk.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="virtual-block">
<h1>Virtual Block<a class="headerlink" href="#virtual-block" title="Permalink to this headline">¶</a></h1>
<p>The physical addressing interface <code class="docutils literal"><span class="pre">nvm_addr</span></code> provides full control over the
construction of vectorized IO commands. It is known that with great power comes
great responsibility, responsibility which increase the cognitive load on the
developer when integrating vectorized IO directly at the application level.</p>
<p>liblightnvm introduces a pure software abstraction, a virtual block, to reduce
the cognitive load for application developers.</p>
<p>A virtual block behaves as a physical, that is, the constraints of working with
NAND media also apply to a virtual block. However, the abstraction encapsulates
the command and address construction of parallel vectorized IO and exposes a
flat address space which is read/written in a manner equivalent to the
read/write primitives offered by libc.</p>
<p>A virtual block will at a minimum consist of the given block address across all
planes. So it by default encapsulates concerns regarding plane-mode
constraints.</p>
<p>We erase, write, and read the virtual block:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">nvm_vblk</span> <span class="n">set_erase</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">nvme1n1</span> <span class="mh">0x0000000000000002</span>
<span class="n">nvm_vblk</span> <span class="n">set_write</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">nvme1n1</span> <span class="mh">0x0000000000000002</span>
<span class="n">nvm_vblk</span> <span class="n">set_read</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">nvme1n1</span> <span class="mh">0x0000000000000002</span>
</pre></div>
</div>
<p>Yielding:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">**</span> <span class="n">nvm_vblk_erase</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="n">vblk</span> <span class="p">{</span>
 <span class="n">nbytes</span><span class="p">(</span><span class="mi">16777216</span><span class="n">b</span><span class="p">:</span><span class="mi">16</span><span class="n">Mb</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">vblk</span><span class="o">-</span><span class="n">naddrs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
 <span class="mi">00</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0000000000000002</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0002</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="n">Ran</span> <span class="n">nvm_vblk_erase</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.025978</span>
<span class="o">**</span> <span class="n">nvm_vblk_write</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="n">vblk</span> <span class="p">{</span>
 <span class="n">nbytes</span><span class="p">(</span><span class="mi">16777216</span><span class="n">b</span><span class="p">:</span><span class="mi">16</span><span class="n">Mb</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">vblk</span><span class="o">-</span><span class="n">naddrs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
 <span class="mi">00</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0000000000000002</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0002</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="n">Ran</span> <span class="n">nvm_buf_alloc</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.023954</span>
<span class="n">Ran</span> <span class="n">nvm_vblk_write</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.934091</span>
<span class="o">**</span> <span class="n">nvm_vblk_read</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="n">vblk</span> <span class="p">{</span>
 <span class="n">nbytes</span><span class="p">(</span><span class="mi">16777216</span><span class="n">b</span><span class="p">:</span><span class="mi">16</span><span class="n">Mb</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">vblk</span><span class="o">-</span><span class="n">naddrs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
 <span class="mi">00</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0000000000000002</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0002</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="n">Ran</span> <span class="n">nvm_buf_alloc</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.000014</span>
<span class="n">Ran</span> <span class="n">nvm_vblk_read</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.153033</span>
</pre></div>
</div>
<div class="section" id="using-physical-block-sets">
<h2>Using physical block sets<a class="headerlink" href="#using-physical-block-sets" title="Permalink to this headline">¶</a></h2>
<p>To obtain parallel IO, in addition to plane-mode, we construct a virtual block
consisting of multiple physical blocks on distinct parallel units (LUNs). As an
example, we create a virtual block, consisting of a block from the first LUN of
each channel on the device:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mh">0x0000000000000002</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0002</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">(</span><span class="mh">0x0a0700000000014d</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">07</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0333</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">(</span><span class="mh">0x0301000000000014</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">03</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">01</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0020</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">(</span><span class="mh">0x0500000000000190</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">05</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0400</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
</pre></div>
</div>
<p>We erase, write and read the virtual block:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">nvm_vblk</span> <span class="n">set_erase</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">nvme1n1</span> <span class="mh">0x0000000000000002</span> <span class="mh">0x0a0700000000014d</span> <span class="mh">0x0301000000000014</span> <span class="mh">0x0500000000000190</span>
<span class="n">nvm_vblk</span> <span class="n">set_write</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">nvme1n1</span> <span class="mh">0x0000000000000002</span> <span class="mh">0x0a0700000000014d</span> <span class="mh">0x0301000000000014</span> <span class="mh">0x0500000000000190</span>
<span class="n">nvm_vblk</span> <span class="n">set_read</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">nvme1n1</span> <span class="mh">0x0000000000000002</span> <span class="mh">0x0a0700000000014d</span> <span class="mh">0x0301000000000014</span> <span class="mh">0x0500000000000190</span>
</pre></div>
</div>
<p>Yielding:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">**</span> <span class="n">nvm_vblk_erase</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="n">vblk</span> <span class="p">{</span>
 <span class="n">nbytes</span><span class="p">(</span><span class="mi">67108864</span><span class="n">b</span><span class="p">:</span><span class="mi">64</span><span class="n">Mb</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">vblk</span><span class="o">-</span><span class="n">naddrs</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
 <span class="mi">00</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0000000000000002</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0002</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">01</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0a0700000000014d</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">07</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0333</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">02</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0301000000000014</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">03</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">01</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0020</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">03</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0500000000000190</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">05</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0400</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="n">Ran</span> <span class="n">nvm_vblk_erase</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.027606</span>
<span class="o">**</span> <span class="n">nvm_vblk_write</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="n">vblk</span> <span class="p">{</span>
 <span class="n">nbytes</span><span class="p">(</span><span class="mi">67108864</span><span class="n">b</span><span class="p">:</span><span class="mi">64</span><span class="n">Mb</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">vblk</span><span class="o">-</span><span class="n">naddrs</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
 <span class="mi">00</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0000000000000002</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0002</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">01</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0a0700000000014d</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">07</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0333</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">02</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0301000000000014</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">03</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">01</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0020</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">03</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0500000000000190</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">05</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0400</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="n">Ran</span> <span class="n">nvm_buf_alloc</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.071390</span>
<span class="n">Ran</span> <span class="n">nvm_vblk_write</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.980600</span>
<span class="o">**</span> <span class="n">nvm_vblk_read</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="n">vblk</span> <span class="p">{</span>
 <span class="n">nbytes</span><span class="p">(</span><span class="mi">67108864</span><span class="n">b</span><span class="p">:</span><span class="mi">64</span><span class="n">Mb</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">vblk</span><span class="o">-</span><span class="n">naddrs</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
 <span class="mi">00</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0000000000000002</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0002</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">01</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0a0700000000014d</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">07</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0333</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">02</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0301000000000014</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">03</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">01</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0020</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
 <span class="mi">03</span><span class="p">:</span> <span class="p">(</span><span class="mh">0x0500000000000190</span><span class="p">){</span> <span class="n">ch</span><span class="p">(</span><span class="mi">05</span><span class="p">),</span> <span class="n">lun</span><span class="p">(</span><span class="mi">00</span><span class="p">),</span> <span class="n">pl</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">blk</span><span class="p">(</span><span class="mi">0400</span><span class="p">),</span> <span class="n">pg</span><span class="p">(</span><span class="mi">000</span><span class="p">),</span> <span class="n">sec</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="n">Ran</span> <span class="n">nvm_buf_alloc</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.000012</span>
<span class="n">Ran</span> <span class="n">nvm_vblk_read</span><span class="p">,</span> <span class="n">elapsed</span> <span class="n">wall</span><span class="o">-</span><span class="n">clock</span><span class="p">:</span> <span class="mf">0.167836</span>
</pre></div>
</div>
<p>This demonstrates a weak-scaling experiment, increasing the workload
proportionally with the parallel units consumes approxiately the same amount of
wall-clock time, thus achieving near linear speedup by utilizing parallel units
on the device.</p>
</div>
<div class="section" id="using-physical-block-line">
<h2>Using physical block line<a class="headerlink" href="#using-physical-block-line" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nvm_bbt.html" class="btn btn-neutral float-right" title="Bad-Block-Table" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nvm_addr_vio.html" class="btn btn-neutral" title="Vectorized IO to NAND media" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, LightNVM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>